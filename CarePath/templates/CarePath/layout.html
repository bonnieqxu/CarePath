<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>{% block title %}{% endblock %}</title>
    {% load static %}
    <meta content="width=device-width, initial-scale=1.0" name="viewport" />
    <meta content="" name="keywords" />
    <meta content="" name="description" />

    <!-- Favicon -->
    <link href="img/favicon.ico" rel="icon" />

    <!-- Google Web Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Open+Sans:wght@400;500&family=Roboto:wght@500;700;900&display=swap"
      rel="stylesheet"
    />

    <!-- Icon Font Stylesheet -->
    <link
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.10.0/css/all.min.css"
      rel="stylesheet"
    />
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.4.1/font/bootstrap-icons.css"
      rel="stylesheet"
    />

    <!-- Libraries Stylesheet -->
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css"
    />

    <link
      href="{% static 'CarePath/lib/animate/animate.min.css' %}"
      rel="stylesheet"
    />

    <link
      href="{% static 'CarePath/lib/tempusdominus/css/tempusdominus-bootstrap-4.min.css' %}"
      rel="stylesheet"
    />

    <link
      rel="stylesheet"
      type="text/css"
      href="{% static 'CarePath/site.css' %}?v={{ STATIC_VERSION }}"
    />

    <link
      rel="stylesheet"
      href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css"
    />
  </head>

  <body>
    <div style="position: fixed; right: 20px; bottom: 100px; z-index: 1000">
      <button
        onclick="zoomIn()"
        style="
          padding: 10px 20px;
          font-size: 16px;
          background-color: #b31398;
          color: white;
          border: none;
          border-radius: 5px;
          cursor: pointer;
          display: block;
          margin-bottom: 10px;
        "
      >
        Zoom In
      </button>
      <button
        onclick="zoomOut()"
        style="
          padding: 10px 20px;
          font-size: 16px;
          background-color: #3e18e9;
          color: white;
          border: none;
          border-radius: 5px;
          cursor: pointer;
          display: block;
          margin-bottom: 10px;
        "
      >
        Zoom Out
      </button>

      <button
        id="darkModeButton"
        onclick="toggleDarkMode()"
        style="
          padding: 10px 20px;
          font-size: 16px;
          background-color: #080514;
          color: white;
          border: none;
          border-radius: 5px;
          cursor: pointer;
          display: block;
        "
      >
        Dark Mode Off
      </button>
    </div>

    <!-- Top Bar starts -->

    <div class="container-fluid bg-light p-0 wow fadeIn" data-wow-delay="0.1s">
      <div class="row gx-0 align-items-center justify-content-between">
        <div class="col-lg-7 px-5 text-start d-flex flex-wrap">
          <a
            href="{% url 'home' %}"
            class="navbar-brand d-flex align-items-center"
          >
            <h2 class="m-0 text-primary d-flex align-items-center">
              <i class="far fa-hospital me-3" style="margin-right: 5px"></i>Te
              Whatu Ora
            </h2>
          </a>

          <div
            class="h-100 d-inline-flex align-items-center py-3"
            style="margin-right: 30px"
          >
            <small
              class="fa fa-map-marker-alt text-primary"
              style="margin-left: 20px; margin-right: 5px"
            ></small>
            <small>Greenlane Clinical Centre</small>
          </div>
          <div
            class="h-100 d-inline-flex align-items-center py-3"
            style="margin-right: 30px"
          >
            <small
              class="fa fa-map-marker-alt text-primary"
              style="margin-right: 5px"
            ></small>
            <small>Auckland City Hospital</small>
          </div>
          <div
            class="h-100 d-inline-flex align-items-center py-3"
            style="margin-right: 30px"
          >
            <small
              class="far fa-clock text-primary"
              style="margin-right: 5px"
            ></small>
            <small>Mon - Fri : 08.00 AM - 04.30 PM</small>
          </div>
          <div
            class="h-100 d-inline-flex align-items-center py-3"
            style="margin-right: 30px"
          >
            <small
              class="fa fa-phone-alt text-primary"
              style="margin-right: 5px"
            ></small>
            <small>09 345 6789</small>
          </div>
        </div>

        <div class="col-lg-5 px-5 text-end">
          <div class="h-100 d-flex align-items-center justify-content-end">
            {% if not user.is_authenticated %}
            <a href="{% url 'register' %}" class="nav-item nav-link me-3"
              >Register</a
            >
            <a href="{% url 'login' %}" class="nav-item nav-link">Log In</a>
            {% else %}

            <!-- My Dashboard link -->
            <a href="{% url 'dashboard' %}" class="nav-item nav-link me-3"
              >My Dashboard</a
            >

            <!-- Log Out form and link -->
            <form
              id="logout-form"
              action="{% url 'logout' %}"
              method="post"
              style="display: none"
            >
              {% csrf_token %}
            </form>
            <a
              href="#"
              class="nav-item nav-link"
              onclick="event.preventDefault(); document.getElementById('logout-form').submit();"
              >Log Out</a
            >
            {% endif %}
          </div>
        </div>
      </div>
    </div>

    <!-- navbar starts -->
    <nav
      class="navbar navbar-expand-lg bg-white navbar-light sticky-top p-0 wow fadeIn"
      data-wow-delay="0.1s"
    >
      <div class="container">
        <div class="text-end" style="float: left">
          <button
            type="button"
            class="navbar-toggler me-4"
            data-bs-toggle="collapse"
            data-bs-target="#navbarCollapse"
          >
            <span class="navbar-toggler-icon"></span>
          </button>
          <br />
          <br />
        </div>
        <div
          class="collapse navbar-collapse justify-content-center"
          id="navbarCollapse"
        >
          <div class="navbar-nav p-4 p-lg-0">
            <a href="{% url 'home' %}" class="nav-item nav-link active">Home</a>
            <a href="{% url 'journey' %}" class="nav-item nav-link"
              >Your Journey</a
            >
            <a href="{% url 'info' %}" class="nav-item nav-link"
              >Important Info</a
            >
            <a href="{% url 'team' %}" class="nav-item nav-link">Our Team</a>
          </div>
        </div>
      </div>
    </nav>
    <!-- <hr> -->
    <!-- Navbar End -->

    <!--    {% if messages %}
    <div class="alert alert-info">
      <ul>
        {% for message in messages %}
        <li>{{ message }}</li>
        {% endfor %}
      </ul>
    </div>
    {% endif %} -->

    <div class="body-content">
      {% block content %} {% endblock %}

      <!-- Footer Start -->
      <footer>
        <div
          class="container-fluid bg-dark text-light footer mt-5 wow fadeIn"
          data-wow-delay="0.1s"
          style="
            display: flex;
            align-items: center;
            justify-content: center;
            height: 70px;
            line-height: 70px;
            padding: 10px 0;
          "
        >
          <div class="copyright text-center">
            <span style="margin-right: 50px">&copy;2024</span>
            <span style="margin-right: 50px"
              >Te Whatu Ora, All Rights Reserved.</span
            >
            <span style="margin-right: 10px">Bonnie Qian Xu</span>
            <span>1156270</span>
          </div>
        </div>
      </footer>
      <!-- Footer End -->

      <!-- Back to Top -->
      <a
        href="#"
        class="btn btn-lg btn-primary btn-lg-square rounded-circle back-to-top d-flex align-items-center justify-content-center"
      >
        <i class="bi bi-arrow-up"></i>
      </a>

      <!-- JavaScript Libraries -->
      <script src="https://code.jquery.com/jquery-3.5.1.min.js"></script>
      <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0/dist/js/bootstrap.bundle.min.js"></script>

      <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.9.2/dist/umd/popper.min.js"></script>
      <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>

      <script src="{% static 'CarePath/lib/wow/wow.min.js' %}"></script>
      <script src="{% static 'CarePath/lib/easing/easing.min.js' %}"></script>
      <script src="{% static 'CarePath/lib/waypoints/waypoints.min.js' %}"></script>
      <script src="{% static 'CarePath/lib/counterup/counterup.min.js' %}"></script>

      <script src="{% static 'CarePath/lib/tempusdominus/js/moment.min.js' %}"></script>
      <script src="{% static 'CarePath/lib/tempusdominus/js/moment-timezone.min.js' %}"></script>
      <script src="{% static 'CarePath/lib/tempusdominus/js/tempusdominus-bootstrap-4.min.js' %}"></script>

      <!-- main.js -->
      <script src="{% static 'CarePath/main.js' %}"></script>
    </div>
  </body>

  <script>
    let zoomLevel = 1;

    function zoomIn() {
      zoomLevel += 0.1; // 10%
      document.body.style.zoom = zoomLevel;
    }

    function zoomOut() {
      zoomLevel -= 0.1; // 10%
      document.body.style.zoom = zoomLevel;
    }

    // Function to toggle dark mode
    function toggleDarkMode() {
      document.body.classList.toggle("dark-mode");

      // Define elements that need dark mode toggle
      const elementsToToggle = [".sidebar", ".nav-link", ".badge-danger"];
      elementsToToggle.forEach((selector) => {
        document.querySelectorAll(selector).forEach((element) => {
          element.classList.toggle("dark-mode");
        });
      });

      // Save dark mode state in localStorage
      if (document.body.classList.contains("dark-mode")) {
        localStorage.setItem("darkMode", "enabled");
      } else {
        localStorage.setItem("darkMode", "disabled");
      }

      updateDarkModeButton(); // Update button text and styles after toggling dark mode
    }

    // Function to update Dark Mode button based on current dark mode state
    function updateDarkModeButton() {
      const button = document.getElementById("darkModeButton");
      if (document.body.classList.contains("dark-mode")) {
        button.textContent = "Dark Mode On";
        button.style.backgroundColor = "#ffffff"; // Light button background in Dark Mode
        button.style.color = "#121212"; // Dark text in Light button
      } else {
        button.textContent = "Dark Mode Off";
        button.style.backgroundColor = "#080514"; // Dark button background in default mode
        button.style.color = "#ffffff"; // Light text in Dark button
      }
    }

    // Check and apply dark mode settings on page load
    document.addEventListener("DOMContentLoaded", function () {
      // Check localStorage to see if dark mode was enabled
      const darkModeSetting = localStorage.getItem("darkMode");

      if (darkModeSetting === "enabled") {
        document.body.classList.add("dark-mode");

        const elementsToToggle = [".sidebar", ".nav-link", ".badge-danger"];
        elementsToToggle.forEach((selector) => {
          document.querySelectorAll(selector).forEach((element) => {
            element.classList.add("dark-mode");
          });
        });
      }

      // Update the button text and style on page load
      updateDarkModeButton();
    });
  </script>
</html>
